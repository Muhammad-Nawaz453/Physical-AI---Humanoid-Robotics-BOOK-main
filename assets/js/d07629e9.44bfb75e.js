"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[8973],{3366:(e,o,r)=>{r.r(o),r.d(o,{default:()=>s});var t=r(6540),n=r(1656),i=r(6025),a=r(4769),l=r(4848);function s(){const[e,o]=(0,t.useState)(1),[r,s]=(0,t.useState)({email:"",password:"",name:"",softwareBackground:"",hardwareBackground:"",experienceLevel:"beginner"}),[d,c]=(0,t.useState)(!1),[g,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),h=(0,i.Ay)("/login"),x=(0,i.Ay)("/");return(0,l.jsx)(n.A,{title:"Sign Up",children:(0,l.jsx)("div",{style:{minHeight:"80vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:(0,l.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",padding:"2rem",width:"100%",maxWidth:"500px"},children:[(0,l.jsx)("h2",{style:{fontSize:"2rem",fontWeight:"bold",color:"#333",marginBottom:"1.5rem",textAlign:"center"},children:1===e?"\ud83e\udd16 Create Account":"\ud83d\udcda Tell Us About Yourself"}),g&&(0,l.jsxs)("div",{style:{backgroundColor:"#fee",border:"1px solid #fcc",color:"#c33",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:["\u26a0\ufe0f ",g]}),m&&(0,l.jsxs)("div",{style:{backgroundColor:"#e3f2fd",border:"1px solid #90caf9",color:"#1565c0",padding:"0.5rem",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.8rem"},children:["\ud83d\udd0d ",m]}),(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"2rem",gap:"0.5rem"},children:[(0,l.jsx)("div",{style:{flex:1,height:"8px",borderRadius:"4px",backgroundColor:e>=1?"#667eea":"#e0e0e0"}}),(0,l.jsx)("div",{style:{flex:1,height:"8px",borderRadius:"4px",backgroundColor:e>=2?"#667eea":"#e0e0e0"}})]}),1===e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Full Name"}),(0,l.jsx)("input",{type:"text",placeholder:"John Doe",value:r.name,onChange:e=>s({...r,name:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",outline:"none",transition:"border 0.3s"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Email"}),(0,l.jsx)("input",{type:"email",placeholder:"john@example.com",value:r.email,onChange:e=>s({...r,email:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,l.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Password"}),(0,l.jsx)("input",{type:"password",placeholder:"Min 6 characters",value:r.password,onChange:e=>s({...r,password:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,l.jsx)("button",{onClick:()=>{r.name&&r.email&&r.password?r.password.length<6?u("Password must be at least 6 characters!"):(u(""),o(2)):u("Please fill all fields!")},style:{width:"100%",padding:"0.75rem",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#5568d3",onMouseOut:e=>e.target.style.backgroundColor="#667eea",children:"Next Step \u2192"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Experience Level"}),(0,l.jsxs)("select",{value:r.experienceLevel,onChange:e=>s({...r,experienceLevel:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",outline:"none"},children:[(0,l.jsx)("option",{value:"beginner",children:"\ud83c\udf31 Beginner - New to robotics"}),(0,l.jsx)("option",{value:"intermediate",children:"\ud83d\udcc8 Intermediate - Some experience"}),(0,l.jsx)("option",{value:"advanced",children:"\ud83d\ude80 Advanced - Expert level"})]})]}),(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Software Background"}),(0,l.jsx)("textarea",{placeholder:"e.g., Python, ROS, Machine Learning, TensorFlow...",value:r.softwareBackground,onChange:e=>s({...r,softwareBackground:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",height:"100px",resize:"vertical",outline:"none",fontFamily:"inherit"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,l.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Hardware Background"}),(0,l.jsx)("textarea",{placeholder:"e.g., Arduino, Raspberry Pi, Robotics kits, 3D printing...",value:r.hardwareBackground,onChange:e=>s({...r,hardwareBackground:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"1rem",height:"100px",resize:"vertical",outline:"none",fontFamily:"inherit"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,l.jsx)("button",{onClick:()=>o(1),disabled:d,style:{flex:1,padding:"0.75rem",backgroundColor:d?"#f0f0f0":"#e0e0e0",color:"#333",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer"},children:"\u2190 Back"}),(0,l.jsx)("button",{onClick:async()=>{c(!0),u(""),p("Sending request to backend...");try{console.log("Sending signup request:",{email:r.email,name:r.name});const e=await fetch(`${a.Ay}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("Response status:",e.status),p(`Response received: ${e.status}`);const o=await e.json();if(console.log("Response data:",o),e.ok){p("Signup successful! Now logging in...");const e=await fetch(`${a.Ay}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password})});if(e.ok){const o=await e.json();localStorage.setItem("session_token",o.session_token),localStorage.setItem("user",JSON.stringify(o.user)),console.log("Auto-login successful!"),alert("Signup successful! Redirecting..."),window.location.href=x}else alert("Signup successful! Please login."),window.location.href=h}else{const e=o.detail||"Signup failed!";u(e),console.error("Signup error:",e),(e.includes("already registered")||e.includes("already exist"))&&u("This email is already registered. Try logging in or use a different email.")}}catch(g){console.error("Network error:",g),u(`Connection error: ${g.message}. Make sure backend is running on port 8000!`),p(`Error: ${g.message}`)}finally{c(!1)}},disabled:d,style:{flex:2,padding:"0.75rem",backgroundColor:d?"#ccc":"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer"},children:d?"\u23f3 Creating Account...":"Complete Signup \u2713"})]})]}),(0,l.jsxs)("p",{style:{marginTop:"1.5rem",textAlign:"center",color:"#666"},children:["Already have an account? ",(0,l.jsx)("a",{href:h,style:{color:"#667eea",fontWeight:"600"},children:"Login"})]})]})})})}}}]);