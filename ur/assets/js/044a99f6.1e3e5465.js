"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[6580],{4467:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"module-1/services-and-actions","title":"\u26a1 Services and Actions - Synchronous Communication in ROS 2","description":"While topics enable asynchronous communication between ROS 2 nodes, sometimes you need synchronous request-reply interactions or long-running tasks with feedback. This is where services and actions come into play. Services provide request-reply communication similar to REST APIs, while actions offer a more sophisticated approach for long-running tasks with progress feedback and the ability to cancel operations.","source":"@site/docs/module-1/services-and-actions.md","sourceDirName":"module-1","slug":"/module-1/services-and-actions","permalink":"/https://github.com/Muhammad-Nawaz453/Physical-AI---Humanoid-Robotics-BOOK/ur/module-1/services-and-actions","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammad-Nawaz453/Physical-AI---Humanoid-Robotics/tree/main/docs/module-1/services-and-actions.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Nodes and Topics - The ROS 2 Communication Foundation","permalink":"/https://github.com/Muhammad-Nawaz453/Physical-AI---Humanoid-Robotics-BOOK/ur/module-1/nodes-and-topics"},"next":{"title":"\ud83e\udd16 URDF Robot Description - Defining Your Robot\'s Physical Structure","permalink":"/https://github.com/Muhammad-Nawaz453/Physical-AI---Humanoid-Robotics-BOOK/ur/module-1/urdf-robot-description"}}');var i=r(4848),t=r(8453);const o={sidebar_position:4},a="\u26a1 Services and Actions - Synchronous Communication in ROS 2",c={},l=[{value:"\ud83c\udfaf Learning Objectives",id:"-learning-objectives",level:2},{value:"\ud83d\udd04 Understanding Services vs Actions vs Topics",id:"-understanding-services-vs-actions-vs-topics",level:2},{value:"Service Architecture",id:"service-architecture",level:3},{value:"\ud83d\udd27 Creating Your First Service Server",id:"-creating-your-first-service-server",level:2},{value:"Service Interface Definition",id:"service-interface-definition",level:3},{value:"\ud83d\udcde Creating Your First Service Client",id:"-creating-your-first-service-client",level:2},{value:"\ud83d\ude80 Understanding Actions",id:"-understanding-actions",level:2},{value:"Action Architecture",id:"action-architecture",level:3},{value:"\ud83d\udee0\ufe0f Creating Your First Action Server",id:"\ufe0f-creating-your-first-action-server",level:2},{value:"Action Interface Definition",id:"action-interface-definition",level:3},{value:"\ud83c\udfaf Creating Your First Action Client",id:"-creating-your-first-action-client",level:2},{value:"\ud83e\udde0 When to Use Each Communication Pattern",id:"-when-to-use-each-communication-pattern",level:2},{value:"Topics (Publish-Subscribe)",id:"topics-publish-subscribe",level:3},{value:"Services (Request-Reply)",id:"services-request-reply",level:3},{value:"Actions (Goal-Feedback-Result)",id:"actions-goal-feedback-result",level:3},{value:"\ud83e\uddea Hands-On Exercise: Robot Arm Control System",id:"-hands-on-exercise-robot-arm-control-system",level:2},{value:"\ud83d\udca1 Key Takeaways",id:"-key-takeaways",level:2},{value:"\ud83d\udcda Further Reading",id:"-further-reading",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-services-and-actions---synchronous-communication-in-ros-2",children:"\u26a1 Services and Actions - Synchronous Communication in ROS 2"})}),"\n",(0,i.jsxs)(n.p,{children:["While topics enable asynchronous communication between ROS 2 nodes, sometimes you need synchronous request-reply interactions or long-running tasks with feedback. This is where ",(0,i.jsx)(n.strong,{children:"services"})," and ",(0,i.jsx)(n.strong,{children:"actions"})," come into play. Services provide request-reply communication similar to REST APIs, while actions offer a more sophisticated approach for long-running tasks with progress feedback and the ability to cancel operations."]}),"\n",(0,i.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83c\udfaf Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this chapter, you will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Understand the differences between topics, services, and actions"}),"\n",(0,i.jsx)(n.li,{children:"Create service servers and clients using Python and rclpy"}),"\n",(0,i.jsx)(n.li,{children:"Implement actions for long-running tasks with feedback"}),"\n",(0,i.jsx)(n.li,{children:"Design appropriate communication patterns for different use cases"}),"\n",(0,i.jsx)(n.li,{children:"Build a complete service-based navigation system"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-understanding-services-vs-actions-vs-topics",children:"\ud83d\udd04 Understanding Services vs Actions vs Topics"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides three primary communication patterns:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topics"}),": Asynchronous, one-way communication (publish-subscribe)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services"}),": Synchronous, request-reply communication (blocking)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions"}),": Asynchronous, goal-oriented communication with feedback"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Each pattern serves different purposes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.strong,{children:"topics"})," for continuous data streams like sensor readings"]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.strong,{children:"services"})," for discrete operations like saving data or changing parameters"]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.strong,{children:"actions"})," for complex operations like navigation or manipulation tasks"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Did You Know?",type:"info",children:(0,i.jsx)(n.p,{children:"Services block the calling node until the service call completes, making them suitable for operations that should finish before proceeding."})}),"\n",(0,i.jsx)(n.h3,{id:"service-architecture",children:"Service Architecture"}),"\n",(0,i.jsx)(n.p,{children:"A service consists of:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Server"}),": Provides the service implementation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Client"}),": Makes requests to the service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Interface"}),": Defines the request and response message types"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"graph LR\r\n    A[Service Client] --\x3e|Request| B(Service Server)\r\n    B --\x3e|Response| A\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-creating-your-first-service-server",children:"\ud83d\udd27 Creating Your First Service Server"}),"\n",(0,i.jsx)(n.p,{children:"Let's create a simple service server that calculates the distance between two points:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# distance_service.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import Trigger\r\nfrom geometry_msgs.msg import Point\r\nimport math\r\n\r\nclass DistanceCalculator(Node):\r\n    def __init__(self):\r\n        super().__init__('distance_calculator')\r\n\r\n        # Create a service server\r\n        self.srv = self.create_service(\r\n            Trigger,  # Service type (we'll use a custom one later)\r\n            'calculate_distance',\r\n            self.calculate_distance_callback\r\n        )\r\n\r\n        self.get_logger().info('Distance Calculator Service Started')\r\n\r\n    def calculate_distance_callback(self, request, response):\r\n        # For this example, we'll just return success\r\n        # In a real implementation, you'd calculate based on request data\r\n        response.success = True\r\n        response.message = 'Distance calculated successfully'\r\n        self.get_logger().info('Distance calculation requested')\r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    distance_calculator = DistanceCalculator()\r\n\r\n    try:\r\n        rclpy.spin(distance_calculator)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        distance_calculator.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.p,{children:"For a more realistic example with custom request/response types, let's create a proper distance calculation service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# custom_distance_service.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom my_robot_msgs.srv import CalculateDistance  # Custom service type\r\nimport math\r\n\r\nclass CustomDistanceCalculator(Node):\r\n    def __init__(self):\r\n        super().__init__('custom_distance_calculator')\r\n\r\n        # Create a service server with custom interface\r\n        self.srv = self.create_service(\r\n            CalculateDistance,\r\n            'calculate_distance',\r\n            self.calculate_distance_callback\r\n        )\r\n\r\n        self.get_logger().info('Custom Distance Calculator Service Started')\r\n\r\n    def calculate_distance_callback(self, request, response):\r\n        # Calculate Euclidean distance between two points\r\n        dx = request.point2.x - request.point1.x\r\n        dy = request.point2.y - request.point1.y\r\n        dz = request.point2.z - request.point1.z\r\n\r\n        distance = math.sqrt(dx*dx + dy*dy + dz*dz)\r\n\r\n        response.distance = distance\r\n        response.success = True\r\n        response.message = f'Distance calculated: {distance:.2f} meters'\r\n\r\n        self.get_logger().info(f'Distance calculated: {distance:.2f} meters')\r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    distance_calculator = CustomDistanceCalculator()\r\n\r\n    try:\r\n        rclpy.spin(distance_calculator)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        distance_calculator.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"service-interface-definition",children:"Service Interface Definition"}),"\n",(0,i.jsxs)(n.p,{children:["First, you need to define your custom service interface. Create a file ",(0,i.jsx)(n.code,{children:"srv/CalculateDistance.srv"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Request message\r\ngeometry_msgs/Point point1\r\ngeometry_msgs/Point point2\r\n\r\n---\r\n# Response message\r\nfloat64 distance\r\nbool success\r\nstring message\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-creating-your-first-service-client",children:"\ud83d\udcde Creating Your First Service Client"}),"\n",(0,i.jsx)(n.p,{children:"Now let's create a service client that calls the distance calculation service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# distance_client.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom my_robot_msgs.srv import CalculateDistance  # Your custom service\r\nfrom geometry_msgs.msg import Point\r\n\r\nclass DistanceClient(Node):\r\n    def __init__(self):\r\n        super().__init__('distance_client')\r\n\r\n        # Create a client for the distance service\r\n        self.client = self.create_client(\r\n            CalculateDistance,\r\n            'calculate_distance'\r\n        )\r\n\r\n        # Wait for the service to be available\r\n        while not self.client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Service not available, waiting again...')\r\n\r\n        self.get_logger().info('Distance Client Ready')\r\n\r\n    def send_request(self, x1, y1, z1, x2, y2, z2):\r\n        request = CalculateDistance.Request()\r\n        request.point1 = Point(x=x1, y=y1, z=z1)\r\n        request.point2 = Point(x=x2, y=y2, z=z2)\r\n\r\n        # Call the service asynchronously\r\n        self.future = self.client.call_async(request)\r\n        return self.future\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    client = DistanceClient()\r\n\r\n    # Send a request\r\n    future = client.send_request(0.0, 0.0, 0.0, 3.0, 4.0, 0.0)\r\n\r\n    try:\r\n        # Wait for the response\r\n        rclpy.spin_until_future_complete(client, future)\r\n\r\n        if future.result() is not None:\r\n            response = future.result()\r\n            client.get_logger().info(\r\n                f'Distance: {response.distance:.2f}, '\r\n                f'Success: {response.success}, '\r\n                f'Message: {response.message}'\r\n            )\r\n        else:\r\n            client.get_logger().error('Service call failed')\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        client.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-understanding-actions",children:"\ud83d\ude80 Understanding Actions"}),"\n",(0,i.jsx)(n.p,{children:"Actions are designed for long-running tasks that require feedback and the ability to cancel. They're perfect for navigation, manipulation, and other complex robotic operations. An action has three components:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Goal"}),": What the action should accomplish"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Feedback"}),": Progress updates during execution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Result"}),": Final outcome when the action completes"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"action-architecture",children:"Action Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"graph LR\r\n    A[Action Client] --\x3e|Goal| B(Action Server)\r\n    B --\x3e|Feedback| A\r\n    B --\x3e|Result| A\r\n    A --\x3e|Cancel| B\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-creating-your-first-action-server",children:"\ud83d\udee0\ufe0f Creating Your First Action Server"}),"\n",(0,i.jsx)(n.p,{children:"Let's create an action server for navigation tasks:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# navigation_action_server.py\r\nimport rclpy\r\nfrom rclpy.action import ActionServer\r\nfrom rclpy.node import Node\r\nfrom my_robot_msgs.action import NavigateToPose  # Custom action type\r\nfrom geometry_msgs.msg import Pose\r\nimport time\r\n\r\nclass NavigateToPoseActionServer(Node):\r\n    def __init__(self):\r\n        super().__init__('navigate_to_pose_action_server')\r\n\r\n        # Create an action server\r\n        self._action_server = ActionServer(\r\n            self,\r\n            NavigateToPose,\r\n            'navigate_to_pose',\r\n            self.execute_callback\r\n        )\r\n\r\n        self.get_logger().info('Navigation Action Server Started')\r\n\r\n    def execute_callback(self, goal_handle):\r\n        self.get_logger().info('Received navigation goal request')\r\n\r\n        # Get target pose from the goal\r\n        target_pose = goal_handle.request.target_pose\r\n        self.get_logger().info(\r\n            f'Navigating to: ({target_pose.position.x}, {target_pose.position.y})'\r\n        )\r\n\r\n        # Simulate navigation progress\r\n        feedback_msg = NavigateToPose.Feedback()\r\n        result = NavigateToPose.Result()\r\n\r\n        # Simulate navigation steps\r\n        for i in range(10):\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                result.success = False\r\n                result.message = 'Goal canceled'\r\n                return result\r\n\r\n            # Update feedback\r\n            feedback_msg.current_distance = float(i * 10)  # Simulated progress\r\n            feedback_msg.remaining_distance = float((10 - i) * 10)\r\n            goal_handle.publish_feedback(feedback_msg)\r\n\r\n            self.get_logger().info(f'Navigation progress: {i * 10}%')\r\n\r\n            # Simulate navigation time\r\n            time.sleep(0.5)\r\n\r\n        # Navigation completed successfully\r\n        goal_handle.succeed()\r\n        result.success = True\r\n        result.message = 'Navigation completed successfully'\r\n\r\n        self.get_logger().info('Navigation completed')\r\n        return result\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    action_server = NavigateToPoseActionServer()\r\n\r\n    try:\r\n        rclpy.spin(action_server)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        action_server.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"action-interface-definition",children:"Action Interface Definition"}),"\n",(0,i.jsxs)(n.p,{children:["Create the action interface file ",(0,i.jsx)(n.code,{children:"action/NavigateToPose.action"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Goal: Where to navigate to\r\ngeometry_msgs/Pose target_pose\r\n\r\n---\r\n# Result: Outcome of the navigation\r\nbool success\r\nstring message\r\n\r\n---\r\n# Feedback: Progress updates during navigation\r\nfloat64 current_distance\r\nfloat64 remaining_distance\r\nstring status\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-creating-your-first-action-client",children:"\ud83c\udfaf Creating Your First Action Client"}),"\n",(0,i.jsx)(n.p,{children:"Now let's create an action client that sends navigation goals:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# navigation_action_client.py\r\nimport rclpy\r\nfrom rclpy.action import ActionClient\r\nfrom rclpy.node import Node\r\nfrom my_robot_msgs.action import NavigateToPose\r\nfrom geometry_msgs.msg import Pose, Point, Quaternion\r\n\r\nclass NavigateToPoseActionClient(Node):\r\n    def __init__(self):\r\n        super().__init__('navigate_to_pose_action_client')\r\n\r\n        # Create an action client\r\n        self._action_client = ActionClient(\r\n            self,\r\n            NavigateToPose,\r\n            'navigate_to_pose'\r\n        )\r\n\r\n    def send_goal(self, x, y, z=0.0):\r\n        # Wait for the action server to be available\r\n        self._action_client.wait_for_server()\r\n\r\n        # Create the goal message\r\n        goal_msg = NavigateToPose.Goal()\r\n        goal_msg.target_pose = Pose()\r\n        goal_msg.target_pose.position = Point(x=x, y=y, z=z)\r\n        goal_msg.target_pose.orientation = Quaternion(x=0.0, y=0.0, z=0.0, w=1.0)\r\n\r\n        # Send the goal and get a future\r\n        self._send_goal_future = self._action_client.send_goal_async(\r\n            goal_msg,\r\n            feedback_callback=self.feedback_callback\r\n        )\r\n\r\n        self._send_goal_future.add_done_callback(self.goal_response_callback)\r\n\r\n    def goal_response_callback(self, future):\r\n        goal_handle = future.result()\r\n        if not goal_handle.accepted:\r\n            self.get_logger().info('Goal rejected')\r\n            return\r\n\r\n        self.get_logger().info('Goal accepted')\r\n\r\n        # Get the result\r\n        self._get_result_future = goal_handle.get_result_async()\r\n        self._get_result_future.add_done_callback(self.get_result_callback)\r\n\r\n    def feedback_callback(self, feedback_msg):\r\n        feedback = feedback_msg.feedback\r\n        self.get_logger().info(\r\n            f'Current distance: {feedback.current_distance}, '\r\n            f'Remaining: {feedback.remaining_distance}'\r\n        )\r\n\r\n    def get_result_callback(self, future):\r\n        result = future.result().result\r\n        self.get_logger().info(f'Result: {result.success}, {result.message}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    action_client = NavigateToPoseActionClient()\r\n\r\n    # Send a navigation goal\r\n    action_client.send_goal(5.0, 3.0)\r\n\r\n    try:\r\n        rclpy.spin(action_client)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        action_client.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-when-to-use-each-communication-pattern",children:"\ud83e\udde0 When to Use Each Communication Pattern"}),"\n",(0,i.jsx)(n.h3,{id:"topics-publish-subscribe",children:"Topics (Publish-Subscribe)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use when"}),": You need continuous data flow"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Examples"}),": Sensor data, robot state, camera images"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),": Asynchronous, decoupled, one-to-many"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"services-request-reply",children:"Services (Request-Reply)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use when"}),": You need synchronous responses"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Examples"}),": Saving configurations, parameter updates, simple calculations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),": Blocking, synchronous, one-to-one"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actions-goal-feedback-result",children:"Actions (Goal-Feedback-Result)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use when"}),": You need long-running operations with progress tracking"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Examples"}),": Navigation, manipulation, calibration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),": Asynchronous, cancellable, progress feedback"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-hands-on-exercise-robot-arm-control-system",children:"\ud83e\uddea Hands-On Exercise: Robot Arm Control System"}),"\n",(0,i.jsx)(n.p,{children:"Create a robot arm control system with the following requirements:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Expected Time:"})," 30 minutes"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Service for setting arm joint positions (synchronous)"}),"\n",(0,i.jsx)(n.li,{children:"Action for complex arm movements with feedback (asynchronous)"}),"\n",(0,i.jsx)(n.li,{children:"Custom service and action message types"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Instructions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Define custom service interface for setting joint positions"}),"\n",(0,i.jsx)(n.li,{children:"Implement service server that validates and sets joint positions"}),"\n",(0,i.jsx)(n.li,{children:"Define custom action interface for complex movements"}),"\n",(0,i.jsx)(n.li,{children:"Implement action server that simulates arm movement with feedback"}),"\n",(0,i.jsx)(n.li,{children:"Create client nodes that use both service and action"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution Hints:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use proper validation in the service to ensure joint limits"}),"\n",(0,i.jsx)(n.li,{children:"Simulate realistic movement times in the action"}),"\n",(0,i.jsx)(n.li,{children:"Consider error handling for out-of-bounds positions"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-key-takeaways",children:"\ud83d\udca1 Key Takeaways"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services"})," provide synchronous request-reply communication for discrete operations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions"})," enable long-running tasks with progress feedback and cancellation"]}),"\n",(0,i.jsx)(n.li,{children:"Choose the right communication pattern based on your use case requirements"}),"\n",(0,i.jsx)(n.li,{children:"Services block execution until completion, while actions provide asynchronous progress"}),"\n",(0,i.jsx)(n.li,{children:"Actions are ideal for complex robotic operations like navigation and manipulation"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-further-reading",children:"\ud83d\udcda Further Reading"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/Concepts/About-Services.html",children:"ROS 2 Services Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/Concepts/About-Actions.html",children:"ROS 2 Actions Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/Tutorials/Actions.html",children:"Action Client and Server Tutorials"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next Chapter:"})," ",(0,i.jsx)(n.a,{href:"/module-1/urdf-robot-description",children:"URDF Robot Description"})]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);